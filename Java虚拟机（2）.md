# Java虚拟机（2）

标签（空格分隔）： Java 虚拟机

---

<h2>1.垃圾收集和内存分配简述</h2>
1.程序计数器、虚拟机栈、本地方法栈随线程而生，随线程而灭。所以只考虑（Java堆，方法区）的垃圾回收。</br>
2.Java虚拟机没用引用计数法来管理内存，其中最主要的问题是它很难解决循环引用。</br>


3.引用的4种类型：</br>
a.强引用：只要强引用还存在，被引用的对象就不会被回收。</br>
b.软引用：在系统要发生内存溢出异常之前，会将软引用关联的对象列进回收范围之中进行第二次回收。</br>
c.弱引用：被弱引用关联对象只能存活到下次垃圾回收之前</br>
d.虚引用：在这个对象被收集器回收时收到一个系统通知</br>

4.finalize()方法只会被系统调用一次（不建议使用）


5.回收方法区（回收类的条件）：</br>
a.该类所有实例都已被回收，也就是Java堆中不存在该类的任何实例。</br>
b.加载该类的ClassLoader已经被回收</br>
c.该类对应的java.lang.Class对象没有任何地方被引用，无法在任何地方反射访问该类的方法。</br>



<h2>2.垃圾收集算法</h2>
分代收集：新生代选用复制算法，老年代选用标记清除或标记整理</br>
参考链接：http://www.cnblogs.com/dolphin0520/p/3783345.html</br>
http://www.cnblogs.com/hnrainll/archive/2013/11/06/3410042.html</br>




<h2>3.安全点，安全区域</h2>
GC收集时，为防止新的变化，分析必须在能确保一致性的快照中执行（安全点，安全区域）</br>


<h2>4.class文件结构</h2>
参考链接：https://www.cnblogs.com/xiaoruoen/archive/2011/11/30/2267309.html</br>

<h2>5.类加载机制和双亲委派机制</h2>
参考链接：http://www.cnblogs.com/xiaoruoen/archive/2011/12/01/2262788.html</br>
http://blog.csdn.net/zhoudaxia/article/details/35824249</br>









